<?xml version="1.0"?>
<config>
    <modules>
        <Aligent_Feeds>
            <version>0.1.2</version>
        </Aligent_Feeds>
    </modules>
    <global>
        <models>
            <aligent_feeds>
                <class>Aligent_Feeds_Model</class>
            </aligent_feeds>
        </models>
        <resources>
            <aligent_feeds_setup>
                <setup>
                    <module>Aligent_Feeds</module>
                </setup>
            </aligent_feeds_setup>
        </resources>
        <helpers>
            <aligent_feeds>
                <class>Aligent_Feeds_Helper</class>
            </aligent_feeds>
        </helpers>
    </global>
    <crontab>
        <jobs>
            <export_feeds>
                <schedule>
                    <cron_expr>30 5 * * *</cron_expr>
                </schedule>
                <run>
                    <model>aligent_feeds/cron::exportFeeds</model>
                </run>
            </export_feeds>
        </jobs>
    </crontab>
    <default>
        <feeds>
            <general>
                <reindex>0</reindex>
                <ftp>0</ftp>
            </general>
            <googleshopping>
                <condition>1</condition>
            </googleshopping>
            <enable>
                <googleshopping>1</googleshopping>
            </enable>
            <ebayfeed>
                <condition>1</condition>
            </ebayfeed>
            <enable>
                <ebayfeed>1</ebayfeed>
            </enable>
        </feeds>
    </default>
    <feeds>
        <googleshopping>
            <fields>
                <id>
                    <xml_tag>g:id</xml_tag>
                    <attribute>sku</attribute>
                    <value>-</value>
                    <special>store_id</special>
                </id>
                <title>
                    <attribute>name</attribute>
                </title>
                <description>
                    <attribute>short_description</attribute>
                </description>
                <gshopping_category>
                    <header>google product category</header>
                    <xml_tag>g:google_product_category</xml_tag>
                    <attribute>gshopping_category_value</attribute>
                </gshopping_category>
                <product_type>
                    <header>product type</header>
                    <xml_tag>g:product_type</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_category</class>
                        <method>translate</method>
                        <field>category_id</field>
                    </singleton>
                </product_type>
                <url>
                    <header>link</header>
                    <xml_tag>link</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_url</class>
                        <method>translate</method>
                    </singleton>
                </url>
                <image>
                    <header>image link</header>
                    <xml_tag>g:image_link</xml_tag>
                    <special>product_media_base_url</special>
                    <attribute>small_image</attribute>
                </image>
                <gshopping_condition>
                    <header>condition</header>
                    <xml_tag>g:condition</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_googlecondition</class>
                        <method>translate</method>
                        <field>gshopping_condition</field>
                    </singleton>
                </gshopping_condition>
                <availability>
                    <xml_tag>g:availability</xml_tag>
                </availability>
                <price>
                    <xml_tag>g:price</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_translate</class>
                        <method>price</method>
                        <field>price</field>
                    </singleton>
                </price>
                <special_price>
                    <header>sale price</header>
                    <xml_tag>g:sale_price</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_translate</class>
                        <method>price</method>
                        <field>special_price</field>
                    </singleton>
                </special_price>
                <special_price_date>
                    <header>sale price effective date</header>
                    <xml_tag>g:sale_price_effective_date</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_pricestartend</class>
                        <method>translate</method>
                    </singleton>
                </special_price_date>
                <mpn>
                    <xml_tag>g:mpn</xml_tag>
                    <attribute>sku</attribute>
                </mpn>
            </fields>
            <output>
                <text>
                    <format>csv</format>
                    <delimiter>\t</delimiter>
                    <enclosure>"</enclosure>
                </text>
                <xml>
                    <format>xml</format>
                </xml>
            </output>
        </googleshopping>
        <ebayfeed>
            <fields>
                <sku>
                    <xml_tag>Merchant_SKU</xml_tag>
                    <attribute>sku</attribute>
                    <special>store_id</special>
                </sku>
                <name>
                    <xml_tag>Product_Name</xml_tag>
                    <attribute>name</attribute>
                </name>
                <url>
                    <xml_tag>Product_Url</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_url</class>
                        <method>translate</method>
                    </singleton>
                </url>
                <image>
                    <xml_tag>Image_URL</xml_tag>
                    <special>media_base_url</special>
                    <attribute>small_image</attribute>
                </image>
                <price>
                    <xml_tag>Current_Price</xml_tag>
                    <attribute>price</attribute>
                </price>
                <availability>
                    <xml_tag>Stock_Availability</xml_tag>
                    <value>-</value>
                    <singleton>
                        <class>aligent_feeds/translator_availability</class>
                        <method>translate</method>
                    </singleton>
                </availability>
                <condition>
                    <xml_tag>Condition</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_ebaycondition</class>
                        <method>translate</method>
                        <field>condition</field>
                    </singleton>
                </condition>
                <mpn>
                    <xml_tag>MPN</xml_tag>
                    <attribute>sku</attribute>
                </mpn>
                <description>
                    <xml_tag>Product_Description</xml_tag>
                    <attribute>short_description</attribute>
                </description>
                <type>
                    <xml_tag>Product_Type</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_category</class>
                        <method>translate</method>
                        <field>category_id</field>
                    </singleton>
                </type>
                <category>
                    <xml_tag>Category</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_configvalue</class>
                        <method>translate</method>
                        <field>feeds/ebay/category</field>
                    </singleton>
                </category>
                <category_id>
                    <xml_tag>Category_ID</xml_tag>
                    <singleton>
                        <class>aligent_feeds/translator_configvalue</class>
                        <method>translate</method>
                        <field>feeds/ebay/category_id</field>
                    </singleton>
                </category_id>
            </fields>
            <output>
                <text>
                    <format>csv</format>
                    <delimiter>\t</delimiter>
                    <enclosure>"</enclosure>
                </text>
                <xml>
                    <format>xml</format>
                </xml>
            </output>
        </ebayfeed>
    </feeds>
</config>